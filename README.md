# Генератор QT UI форм

Программа создает пользовательские интерфейсы на основе шаблонов, делает их скриншоты и разметку для использования в датасетах машинного обучения.

## Основные возможности

- Генерация UI форм по шаблонам в формате JSON
- Создание скриншотов сгенерированных интерфейсов
- Автоматическая разметка элементов интерфейса
- Поддержка различных форматов экспорта данных (YOLO, COCO)
- Настройка параметров через конфигурационный файл

## Архитектура программы

Программа состоит из следующих основных компонентов:

1. **Конфигурация** - INI файл с настройками:
   - Параметры генерации датасета
   - Настройки скриншотов
   - Параметры экспорта геометрии виджетов
   - Стили оформления

2. **Генератор UI** - создает интерфейсы на основе:
   - Описаний виджетов (контейнеры, композиты, атомарные элементы)
   - Правил композиции
   - Ограничений на структуру

3. **Модуль скриншотов**:
   - Делает снимки всего интерфейса
   - Вырезает отдельные элементы
   - Сохраняет в разных форматах и качестве

4. **Экспорт данных**:
   - Геометрия элементов (YOLO, COCO)
   - Атрибуты виджетов
   - Текстовое содержимое

Структура проекта организована следующим образом:

**Исходный код программы**
- `guigenerator/` - основной пакет программы
    - `dto/` - Data Transfer Objects для передачи данных между компонентами
    - `http_requests.py` - модуль для работы с HTTP запросами
    - `qt_guigen/` - модуль генерации Qt интерфейсов
        - `config.py` - управление конфигурацией
        - `screenshot.py` - создание скриншотов интерфейсов
        - `widgets/` - реализация виджетов и их свойств
            - `widgetobject/` - базовые классы и конкретные реализации виджетов
    - `tree_guigen/` - модуль работы с древовидными структурами интерфейсов
        - `tree_builder.py` - построение иерархий виджетов
        - `tree_parser.py` - анализ и преобразование деревьев
        - `tree_validator.py` - проверка корректности структур
        - `tree_optimizer.py` - оптимизация древовидных структур
    - `utils.py` - вспомогательные утилиты

**Конфигурационные файлы**
- `config/` - директория с конфигурацией
   - `guigenerator_config.ini` - основные настройки программы
   - `tree_widgets_description.json` - описание виджетов и их свойств

**Ресурсы**
- `stylesheet_images.py` - инициализация ресурсов для стилей

## Форматы данных

### Входные данные
- `tree_widgets_description.json` - описание виджетов и их свойств
- `guigenerator_config.ini` - конфигурация программы

### Выходные данные
- Скриншоты интерфейсов (PNG)
- Разметка элементов (YOLO .txt, COCO .json)
- Атрибуты виджетов
- Текстовое содержимое элементов

## Быстрый старт

1. Установите зависимости:

```bash
pip install -r requirements.txt
```

2. Настройте параметры в `guigenerator_config.ini`

3. Запустите генерацию:

```python
from guigenerator.qt_guigen.screenshot import ScreenshotHandler
from guigenerator.qt_guigen.widgets.widgetobject.wo_concrete import MainWindowWidget

# Создание главного окна
main_window = MainWindowWidget("Window", tree)

# Генерация скриншота
screenshot = ScreenshotHandler.take_main_screenshot(main_window, lambda: None)
```

## Конфигурация

Основные параметры в `guigenerator_config.ini`:

- `DatasetGeneration` - настройки генерации датасета
- `WidgetGeometry` - параметры геометрии виджетов  
- `GeometryDataExport` - экспорт разметки
- `AttributeDataExport` - экспорт атрибутов
- `WidgetValuesDataExport` - экспорт текстового содержимого

## Поддерживаемые виджеты

Программа поддерживает широкий набор элементов интерфейса:

- Контейнеры: окна, группы, формы
- Элементы ввода: текстовые поля, выпадающие списки
- Кнопки, чекбоксы, радиокнопки
- Таблицы, списки, деревья
- Полосы прокрутки

Полный список виджетов и их свойств описан в `tree_widgets_description.json`.
